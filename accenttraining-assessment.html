<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Accent Training Skills Assessment | Skillexa</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Dancing+Script:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            overflow-x: hidden;
        }
        .handwriting {
            font-family: 'Dancing Script', cursive;
        }
        .charcoal-gold-gradient {
            background: linear-gradient(135deg, #2C3333 0%, #414141 50%, #B8860B 100%);
        }
        .sapphire-luxe-gradient {
            background: linear-gradient(135deg, #05445E 0%, #189AB4 50%, #05445E 100%);
        }
        .category-card {
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }
        .category-card:hover {
            transform: translateY(-5px);
        }
        .fade-in {
            animation: fadeIn 0.8s ease-in;
        }
        .slide-in {
            animation: slideIn 0.8s ease-out;
        }
        .scale-in {
            animation: scaleIn 0.5s ease-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        @keyframes slideIn {
            from { transform: translateY(30px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        @keyframes scaleIn {
            from { transform: scale(0.9); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }
        .certificate-border {
            background: linear-gradient(135deg, #ec4899, #8b5cf6);
            padding: 10px;
        }
        .certificate-inner-border {
            background: linear-gradient(135deg, #8b5cf6, #ec4899);
            padding: 5px;
        }
        .certificate-content {
            background: white;
            position: relative;
            overflow: hidden;
        }
        .watermark {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) rotate(-30deg);
            font-size: 100px;
            color: rgba(0,0,0,0.05);
            font-weight: bold;
            white-space: nowrap;
            z-index: 0;
        }
        .timer-bar {
            transition: width 1s linear;
        }
        .progress-bar {
            transition: width 0.5s ease;
        }
        .quiz-option:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }
        .quiz-option.selected {
            background-color: rgba(255, 255, 255, 0.2);
            border-color: #ffffff;
        }
        .glow-text {
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.7);
        }
        .gold-glow-text {
            text-shadow: 0 0 5px #fff, 0 0 10px #fff, 0 0 15px #B8860B, 0 0 20px #DAA520;
        }
        .shimmer {
            background: linear-gradient(90deg, 
                rgba(255,255,255,0) 0%, 
                rgba(255,255,255,0.2) 50%, 
                rgba(255,255,255,0) 100%);
            background-size: 200% 100%;
            animation: shimmer 2s infinite;
        }
        @keyframes shimmer {
            0% { background-position: -200% 0; }
            100% { background-position: 200% 0; }
        }
    </style>
</head>
<body>
    <!-- Main Container -->
    <div id="app" class="min-h-screen w-full">
        <!-- Login Screen -->
        <div id="login-screen" class="min-h-screen charcoal-gold-gradient flex flex-col items-center justify-center px-4 py-12">
            <div class="w-full max-w-md bg-white bg-opacity-10 backdrop-blur-sm rounded-xl shadow-lg p-8 fade-in">
                <h1 class="text-3xl font-bold text-center mb-8 text-white gold-glow-text">Accent Training Skills Assessment</h1>
                <form id="login-form" class="space-y-6">
                    <div>
                        <label for="fullName" class="block text-sm font-medium text-white mb-1">Full Name</label>
                        <input type="text" id="fullName" required class="w-full px-4 py-2 bg-white bg-opacity-20 border border-white border-opacity-30 rounded-md focus:outline-none focus:ring-2 focus:ring-yellow-400 text-white placeholder-white placeholder-opacity-70">
                    </div>
                    <div>
                        <label for="email" class="block text-sm font-medium text-white mb-1">Email Address</label>
                        <input type="email" id="email" required class="w-full px-4 py-2 bg-white bg-opacity-20 border border-white border-opacity-30 rounded-md focus:outline-none focus:ring-2 focus:ring-yellow-400 text-white placeholder-white placeholder-opacity-70">
                    </div>
                    <button type="submit" class="w-full bg-gradient-to-r from-yellow-600 to-amber-500 text-white py-2 rounded-md font-medium hover:opacity-90 transition-opacity">Start Assessment</button>
                </form>
            </div>
        </div>

        <!-- Category Preview Screen -->
        <div id="category-preview" class="hidden min-h-screen charcoal-gold-gradient flex flex-col items-center justify-center px-4 py-12">
            <div class="w-full max-w-4xl text-center mb-10 fade-in">
                <h1 class="text-4xl md:text-5xl font-bold text-white mb-4 gold-glow-text">Accent Training Skills Assessment</h1>
                <p class="text-xl text-white text-opacity-90">Explore the key areas we'll be evaluating</p>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full max-w-5xl mb-10">
                <!-- Category 1: Pronunciation Accuracy -->
                <div class="category-card bg-white bg-opacity-10 backdrop-blur-sm rounded-xl p-6 text-white shadow-lg slide-in" style="animation-delay: 0.1s">
                    <div class="flex items-center mb-4">
                        <div class="bg-gradient-to-br from-blue-400 to-blue-600 p-3 rounded-full mr-4">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19.5 8.25l-7.5 7.5-7.5-7.5" />
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 11.25v-8.25h6v8.25" />
                            </svg>
                        </div>
                        <h3 class="text-xl font-bold">Pronunciation Accuracy</h3>
                    </div>
                    <p class="text-white text-opacity-90">Ability to correctly articulate individual sounds, words, and phrases in the target accent.</p>
                </div>
                
                <!-- Category 2: Intonation & Rhythm -->
                <div class="category-card bg-white bg-opacity-10 backdrop-blur-sm rounded-xl p-6 text-white shadow-lg slide-in" style="animation-delay: 0.2s">
                    <div class="flex items-center mb-4">
                        <div class="bg-gradient-to-br from-green-400 to-green-600 p-3 rounded-full mr-4">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
                            </svg>
                        </div>
                        <h3 class="text-xl font-bold">Intonation & Rhythm</h3>
                    </div>
                    <p class="text-white text-opacity-90">Mastery of speech melody, stress patterns, and natural flow characteristic of the target accent.</p>
                </div>
                
                <!-- Category 3: Connected Speech -->
                <div class="category-card bg-white bg-opacity-10 backdrop-blur-sm rounded-xl p-6 text-white shadow-lg slide-in" style="animation-delay: 0.3s">
                    <div class="flex items-center mb-4">
                        <div class="bg-gradient-to-br from-purple-400 to-purple-600 p-3 rounded-full mr-4">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" />
                            </svg>
                        </div>
                        <h3 class="text-xl font-bold">Connected Speech</h3>
                    </div>
                    <p class="text-white text-opacity-90">Ability to link words naturally, using appropriate reductions, assimilations, and elisions.</p>
                </div>
                
                <!-- Category 4: Accent Consistency -->
                <div class="category-card bg-white bg-opacity-10 backdrop-blur-sm rounded-xl p-6 text-white shadow-lg slide-in" style="animation-delay: 0.4s">
                    <div class="flex items-center mb-4">
                        <div class="bg-gradient-to-br from-yellow-400 to-yellow-600 p-3 rounded-full mr-4">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                            </svg>
                        </div>
                        <h3 class="text-xl font-bold">Accent Consistency</h3>
                    </div>
                    <p class="text-white text-opacity-90">Maintaining the target accent consistently throughout speech, even when discussing complex topics.</p>
                </div>
                
                <!-- Category 5: Listening Comprehension -->
                <div class="category-card bg-white bg-opacity-10 backdrop-blur-sm rounded-xl p-6 text-white shadow-lg slide-in" style="animation-delay: 0.5s">
                    <div class="flex items-center mb-4">
                        <div class="bg-gradient-to-br from-red-400 to-red-600 p-3 rounded-full mr-4">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.618 5.984A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016zM12 9v2m0 4h.01" />
                            </svg>
                        </div>
                        <h3 class="text-xl font-bold">Listening Comprehension</h3>
                    </div>
                    <p class="text-white text-opacity-90">Ability to understand native speakers of the target accent at normal speaking speed.</p>
                </div>
                
                <!-- Category 6: Cultural Awareness -->
                <div class="category-card bg-white bg-opacity-10 backdrop-blur-sm rounded-xl p-6 text-white shadow-lg slide-in" style="animation-delay: 0.6s">
                    <div class="flex items-center mb-4">
                        <div class="bg-gradient-to-br from-pink-400 to-pink-600 p-3 rounded-full mr-4">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                            </svg>
                        </div>
                        <h3 class="text-xl font-bold">Cultural Awareness</h3>
                    </div>
                    <p class="text-white text-opacity-90">Understanding of cultural nuances, expressions, and communication styles associated with the target accent.</p>
                </div>
            </div>
            
            <div class="w-full max-w-md text-center fade-in">
                <button id="start-quiz-btn" class="px-8 py-3 bg-gradient-to-r from-yellow-600 to-amber-500 text-white rounded-full font-medium text-lg hover:bg-opacity-90 transition-opacity shadow-lg shimmer">
                    Start 20-Question Assessment
                </button>
                <p class="text-white text-opacity-90 mt-4">You'll have 15 minutes to complete all questions</p>
            </div>
        </div>

        <!-- Quiz Screen -->
        <div id="quiz-screen" class="hidden min-h-screen sapphire-luxe-gradient flex flex-col">
            <!-- Quiz Header -->
            <div class="p-4 md:p-6 flex flex-col md:flex-row justify-between items-center">
                <div class="mb-4 md:mb-0">
                    <h2 class="text-2xl font-bold text-white">Accent Training Skills Assessment</h2>
                    <p class="text-gray-300">Answer each question to the best of your ability</p>
                </div>
                <div class="flex flex-col items-end">
                    <div class="flex items-center mb-2">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-300 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg>
                        <span id="timer" class="text-gray-300 font-medium">10:00</span>
                    </div>
                    <div class="w-full bg-gray-700 rounded-full h-2">
                        <div id="timer-bar" class="timer-bar bg-gradient-to-r from-cyan-400 to-blue-400 h-2 rounded-full" style="width: 100%"></div>
                    </div>
                </div>
            </div>
            
            <!-- Quiz Progress -->
            <div class="px-4 md:px-6 py-2">
                <div class="flex justify-between items-center mb-1">
                    <span class="text-sm text-gray-300">Question <span id="current-question">1</span> of 20</span>
                    <span class="text-sm text-gray-300"><span id="progress-percent">5</span>% Complete</span>
                </div>
                <div class="w-full bg-gray-700 rounded-full h-2">
                    <div id="progress-bar" class="progress-bar bg-gradient-to-r from-cyan-400 to-blue-400 h-2 rounded-full" style="width: 5%"></div>
                </div>
            </div>
            
            <!-- Quiz Content -->
            <div class="flex-grow flex items-center justify-center p-4 md:p-6">
                <div id="question-container" class="w-full max-w-3xl bg-gray-800 bg-opacity-80 backdrop-blur-sm rounded-xl p-6 md:p-8 shadow-lg scale-in">
                    <div id="question-icon" class="mx-auto mb-6 bg-gradient-to-br from-cyan-500 to-blue-400 w-16 h-16 rounded-full flex items-center justify-center">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19.5 8.25l-7.5 7.5-7.5-7.5" />
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 11.25v-8.25h6v8.25" />
                        </svg>
                    </div>
                    <h3 id="question-text" class="text-xl md:text-2xl font-medium text-white text-center mb-8">Which phonetic symbol represents the 'th' sound in the word 'think'?</h3>
                    
                    <div id="options-container" class="space-y-4">
                        <!-- Options will be dynamically generated -->
                    </div>
                </div>
            </div>
            
            <!-- Quiz Navigation -->
            <div class="p-4 md:p-6 flex justify-between">
                <button id="prev-btn" class="px-6 py-2 bg-gray-700 text-gray-300 rounded-lg font-medium hover:bg-gray-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed">Previous</button>
                <button id="next-btn" class="px-6 py-2 bg-gradient-to-r from-cyan-500 to-blue-500 text-white rounded-lg font-medium hover:opacity-90 transition-opacity">Next</button>
            </div>
        </div>

        <!-- Results Screen -->
        <div id="results-screen" class="hidden min-h-screen charcoal-gold-gradient flex flex-col">
            <div class="p-4 md:p-6">
                <h2 class="text-2xl md:text-3xl font-bold text-white text-center gold-glow-text">Your Assessment Results</h2>
                <p class="text-white text-opacity-80 text-center mb-8">Here's how you performed in the Accent Training Skills Assessment</p>
                
                <div class="w-full max-w-4xl mx-auto bg-white bg-opacity-10 backdrop-blur-sm rounded-xl p-6 md:p-8 shadow-lg mb-8">
                    <div class="flex flex-col md:flex-row items-center justify-between mb-8">
                        <div class="mb-6 md:mb-0">
                            <h3 class="text-xl text-white mb-2">Total Score</h3>
                            <div class="text-5xl font-bold text-white glow-text"><span id="total-score">0</span>/<span id="max-score">100</span></div>
                        </div>
                        <div class="w-full md:w-auto">
                            <div id="score-gauge" class="w-40 h-40 mx-auto relative">
                                <svg class="w-full h-full" viewBox="0 0 100 100">
                                    <circle cx="50" cy="50" r="45" fill="none" stroke="#ffffff33" stroke-width="10" />
                                    <circle id="score-circle" cx="50" cy="50" r="45" fill="none" stroke-width="10" stroke-linecap="round" stroke-dasharray="283" stroke-dashoffset="283" transform="rotate(-90 50 50)" />
                                </svg>
                                <div class="absolute inset-0 flex items-center justify-center">
                                    <span id="score-percentage" class="text-2xl font-bold text-white glow-text">0%</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <h3 class="text-xl text-white mb-4">Performance by Category</h3>
                    <div id="category-results" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                        <!-- Category results will be dynamically generated -->
                    </div>
                </div>
                
                <div class="w-full max-w-md mx-auto bg-white bg-opacity-10 backdrop-blur-sm rounded-xl p-6 shadow-lg text-center">
                    <h3 class="text-xl text-white mb-4 glow-text">Get Your Certificate</h3>
                    <p class="text-white text-opacity-80 mb-6">Complete the payment to receive your official Skillexa certification</p>
                    
                    <div class="mb-6">
                        <div id="qr-code" class="w-48 h-48 mx-auto bg-white p-4 rounded-lg">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" class="w-full h-full">
                                <!-- Simple QR code SVG representation -->
                                <rect x="10" y="10" width="80" height="80" fill="none" stroke="black" stroke-width="1" />
                                <g fill="black">
                                    <!-- QR code pattern - simplified representation -->
                                    <rect x="20" y="20" width="20" height="20" />
                                    <rect x="60" y="20" width="20" height="20" />
                                    <rect x="20" y="60" width="20" height="20" />
                                    <rect x="40" y="40" width="20" height="20" />
                                    <rect x="65" y="65" width="10" height="10" />
                                    <rect x="25" y="45" width="10" height="10" />
                                    <rect x="45" y="25" width="10" height="10" />
                                    <rect x="65" y="45" width="10" height="10" />
                                    <rect x="45" y="65" width="10" height="10" />
                                </g>
                            </svg>
                        </div>
                        <p class="text-white text-opacity-80 mt-2">Scan to pay via UPI</p>
                    </div>
                    
                    <!-- Simulated payment button for demo purposes -->
                    <button id="simulate-payment-btn" class="w-full px-6 py-3 bg-gradient-to-r from-yellow-600 to-amber-500 text-white rounded-lg font-medium hover:opacity-90 transition-opacity shimmer">
                        Simulate Payment (Demo)
                    </button>
                </div>
            </div>
        </div>

        <!-- Certificate Screen -->
        <div id="certificate-screen" class="hidden min-h-screen bg-gray-100 p-4 md:p-8 flex flex-col items-center justify-center">
            <div class="mb-6 text-center">
                <h2 class="text-2xl md:text-3xl font-bold text-gray-800">Your Certificate is Ready!</h2>
                <p class="text-gray-600">Your certificate has been generated and will download automatically</p>
            </div>
            
            <!-- Certificate Preview -->
            <div id="certificate" class="w-full max-w-5xl certificate-border rounded-lg shadow-xl">
                <div class="certificate-inner-border rounded-lg">
                    <div class="certificate-content p-8 rounded-lg">
                        <div class="watermark">SKILLEXA</div>
                        
                        <div class="flex justify-between items-start mb-6 relative z-10">
                            <!-- Logo placeholder -->
                            <div class="w-16 h-16 rounded-md overflow-hidden mr-3 shadow-md">
                            <img src="assets/logo.jpg" alt="Skillexa Logo" class="w-full h-full object-cover" />
                            </div>
                            
                            <div class="flex items-center">
                                <div class="text-right mr-4">
                                    <h3 class="text-xl font-bold text-gray-800">CERTIFICATE</h3>
                                    <p class="text-gray-600">OF ACHIEVEMENT</p>
                                </div>
                                <div class="w-12 h-12">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 96 96" class="w-full h-full">
                                        <circle cx="48" cy="48" r="46" fill="#8b5cf6"/>
                                        <path fill="#FFFFFF" d="M41,59.4l-12-12l-4.2,4.2L41,67.8l30.2-30.2l-4.2-4.2L41,59.4z"/>
                                    </svg>
                                </div>
                            </div>
                        </div>
                        
                        <div class="text-center mb-8 relative z-10">
                            <h2 class="handwriting text-4xl text-gray-800 mb-1">Certificate of Excellence</h2>
                            <p class="text-gray-600">This certifies that</p>
                            <h3 id="certificate-name" class="handwriting text-3xl text-gray-800 my-3">John Doe</h3>
                            <p class="text-gray-600 max-w-lg mx-auto">has successfully completed the Accent Training Skills Assessment with outstanding performance and is hereby recognized for their achievement.</p>
                        </div>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8 relative z-10">
                            <div>
                                <h4 class="font-bold text-gray-800 mb-2">Assessment Details</h4>
                                <div class="space-y-2">
                                    <div class="flex items-center">
                                        <span class="text-gray-600 w-32">Skill:</span>
                                        <span class="font-medium text-gray-800">Communication Skills</span>
                                    </div>
                                    <div class="flex items-center">
                                        <span class="text-gray-600 w-32">Total Score:</span>
                                        <span id="certificate-score" class="font-medium text-gray-800">85/100</span>
                                    </div>
                                    <div class="flex items-center">
                                        <span class="text-gray-600 w-32">Rank:</span>
                                        <span id="certificate-rank" class="font-medium text-gray-800">Excellent</span>
                                    </div>
                                    <div class="flex items-center">
                                        <span class="text-gray-600 w-32">Date:</span>
                                        <span id="certificate-date" class="font-medium text-gray-800">May 15, 2024</span>
                                    </div>
                                    <div class="flex items-center">
                                        <span class="text-gray-600 w-32">Certificate ID:</span>
                                        <span id="certificate-id" class="font-medium text-gray-800">SKX-123456</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div>
                                <h4 class="font-bold text-gray-800 mb-2">Performance Breakdown</h4>
                                <div id="certificate-categories" class="grid grid-cols-2 gap-2">
                                    <!-- Will be populated dynamically -->
                                </div>
                            </div>
                        </div>
                        
                        <div class="text-center my-4 relative z-10">
                            <div class="handwriting text-2xl font-bold text-gray-400">SKILLEXA CERTIFIED 2025</div>
                        </div>
                        
                        <div class="flex justify-between items-end mt-8 relative z-10">
                            <div class="text-center">
                                 <img src="assets/images/khushi.png" alt="Signature" class="mx-auto mb-2" style="height: 30px; contain;" />
                             
                                <div class="w-40 border-b border-gray-400 mb-1"></div>
                                <p class="text-gray-800 font-medium">Jagdeep Kaur I</p>
                                <p class="text-gray-600 text-sm">Founder</p>
                            </div>
                            
                            <div class="text-center">
                                 <img src="assets/images/srushti.jpg" alt="Signature" class="mx-auto mb-2" style="height: 30px; contain;" />
                             
                                <div class="w-40 border-b border-gray-400 mb-1"></div>
                                <p class="text-gray-800 font-medium">Prajapati Srushti K</p>
                                <p class="text-gray-600 text-sm">Co-Founder</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="mt-8">
                <button id="download-again-btn" class="px-6 py-3 bg-gradient-to-r from-pink-600 to-purple-600 text-white rounded-lg font-medium hover:opacity-90 transition-opacity">
                    Download Certificate
                </button>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Quiz questions data
            const quizQuestions = [
                {
                    category: "Pronunciation Accuracy",
                    question: "Which phonetic symbol represents the 'th' sound in the word 'think'?",
                    icon: `<svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19.5 8.25l-7.5 7.5-7.5-7.5" />
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 11.25v-8.25h6v8.25" />
                          </svg>`,
                    options: [
                        "/θ/",
                        "/ð/",
                        "/ʃ/",
                        "/tʃ/"
                    ],
                    correctAnswer: 0
                },
                {
                    category: "Pronunciation Accuracy",
                    question: "Which word contains a different vowel sound than the others?",
                    icon: `<svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19.5 8.25l-7.5 7.5-7.5-7.5" />
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 11.25v-8.25h6v8.25" />
                          </svg>`,
                    options: [
                        "Blood",
                        "Flood",
                        "Good",
                        "Food"
                    ],
                    correctAnswer: 3
                },
                {
                    category: "Pronunciation Accuracy",
                    question: "In American English, which word has a different pronunciation of the letter 'a' than the others?",
                    icon: `<svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19.5 8.25l-7.5 7.5-7.5-7.5" />
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 11.25v-8.25h6v8.25" />
                          </svg>`,
                    options: [
                        "Father",
                        "Water",
                        "Call",
                        "Bath"
                    ],
                    correctAnswer: 1
                },
                {
                    category: "Intonation & Rhythm",
                    question: "In the sentence 'I didn't say he stole the money', which word would you stress to imply someone else stole it?",
                    icon: `<svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
                          </svg>`,
                    options: [
                        "He",
                        "I",
                        "Stole",
                        "Money"
                    ],
                    correctAnswer: 0
                },
                {
                    category: "Intonation & Rhythm",
                    question: "Which sentence pattern typically uses rising intonation in English?",
                    icon: `<svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
                          </svg>`,
                    options: [
                        "Yes/no questions",
                        "Statements",
                        "Commands",
                        "Exclamations"
                    ],
                    correctAnswer: 0
                },
                {
                    category: "Intonation & Rhythm",
                    question: "Which word has a different stress pattern than the others?",
                    icon: `<svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
                          </svg>`,
                    options: [
                        "Photograph",
                        "Photography",
                        "Photographer",
                        "Photographic"
                    ],
                    correctAnswer: 0
                },
                {
                    category: "Connected Speech",
                    question: "In natural English speech, what happens to the 't' sound in the phrase 'next day'?",
                    icon: `<svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" />
                          </svg>`,
                    options: [
                        "It often blends with the 'd' sound",
                        "It is always clearly pronounced",
                        "It is completely silent",
                        "It changes to a 'k' sound"
                    ],
                    correctAnswer: 0
                },
                {
                    category: "Connected Speech",
                    question: "What is the linking technique used in the phrase 'an apple'?",
                    icon: `<svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" />
                          </svg>`,
                    options: [
                        "Consonant to vowel linking",
                        "Vowel to vowel linking",
                        "Consonant to consonant linking",
                        "Intrusive 'r'"
                    ],
                    correctAnswer: 0
                },
                {
                    category: "Connected Speech",
                    question: "In the phrase 'Would you like some coffee?', what typically happens to 'would you' in fast, natural speech?",
                    icon: `<svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" />
                          </svg>`,
                    options: [
                        "It sounds more like 'wouldja'",
                        "Each word is clearly separated",
                        "The 'd' is silent",
                        "The 'w' is emphasized"
                    ],
                    correctAnswer: 0
                },
                {
                    category: "Accent Consistency",
                    question: "Which technique helps maintain accent consistency when speaking for extended periods?",
                    icon: `<svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                          </svg>`,
                    options: [
                        "Regular practice with varied vocabulary and topics",
                        "Speaking very slowly",
                        "Avoiding complex words",
                        "Using only short sentences"
                    ],
                    correctAnswer: 0
                },
                {
                    category: "Accent Consistency",
                    question: "What often happens to a non-native speaker's accent when they become emotional or tired?",
                    icon: `<svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                          </svg>`,
                    options: [
                        "Their native accent becomes more pronounced",
                        "Their accent improves significantly",
                        "Their speech becomes more monotone",
                        "They speak with perfect pronunciation"
                    ],
                    correctAnswer: 0
                },
                {
                    category: "Accent Consistency",
                    question: "Which approach is most effective for maintaining accent consistency across different speaking contexts?",
                    icon: `<svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                          </svg>`,
                    options: [
                        "Practicing in various real-life scenarios (presentations, casual conversations, etc.)",
                        "Only practicing formal speech",
                        "Avoiding speaking in public",
                        "Using the same memorized phrases in all situations"
                    ],
                    correctAnswer: 0
                },
                {
                    category: "Listening Comprehension",
                    question: "What is the most effective strategy for improving comprehension of different accents?",
                    icon: `<svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.618 5.984A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016zM12 9v2m0 4h.01" />
                          </svg>`,
                    options: [
                        "Regular exposure to authentic materials like podcasts, films, and conversations",
                        "Reading transcripts without audio",
                        "Studying phonetic symbols",
                        "Memorizing vocabulary lists"
                    ],
                    correctAnswer: 0
                },
                {
                    category: "Listening Comprehension",
                    question: "What often makes understanding native speakers difficult for language learners?",
                    icon: `<svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.618 5.984A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016zM12 9v2m0 4h.01" />
                          </svg>`,
                    options: [
                        "Connected speech features like reductions, linking, and elision",
                        "Formal vocabulary",
                        "Simple grammar",
                        "Clear pronunciation of individual words"
                    ],
                    correctAnswer: 0
                },
                {
                    category: "Listening Comprehension",
                    question: "Which listening skill is most important for understanding different accents?",
                    icon: `<svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.618 5.984A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016zM12 9v2m0 4h.01" />
                          </svg>`,
                    options: [
                        "Recognizing speech patterns and rhythm",
                        "Understanding every single word",
                        "Focusing only on key vocabulary",
                        "Translating to your native language"
                    ],
                    correctAnswer: 0
                },
                {
                    category: "Cultural Awareness",
                    question: "Why is cultural awareness important when learning an accent?",
                    icon: `<svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                          </svg>`,
                    options: [
                        "Accents reflect cultural contexts, expressions, and communication styles",
                        "It's only important for vocabulary acquisition",
                        "Cultural awareness has no impact on accent learning",
                        "It only matters for grammar learning"
                    ],
                    correctAnswer: 0
                },
                {
                    category: "Cultural Awareness",
                    question: "Which aspect of British culture influences the perceived formality in Received Pronunciation (RP)?",
                    icon: `<svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                          </svg>`,
                    options: [
                        "Historical class distinctions",
                        "Weather patterns",
                        "Geographical size",
                        "Food preferences"
                    ],
                    correctAnswer: 0
                },
                {
                    category: "Cultural Awareness",
                    question: "How does understanding humor and idioms relate to accent acquisition?",
                    icon: `<svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                          </svg>`,
                    options: [
                        "They provide insight into cultural values and speech patterns",
                        "They have no connection to accent",
                        "They only help with vocabulary",
                        "They are useful only for writing"
                    ],
                    correctAnswer: 0
                },
                {
                    category: "Pronunciation Accuracy",
                    question: "Which sound is typically difficult for Japanese speakers learning English?",
                    icon: `<svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19.5 8.25l-7.5 7.5-7.5-7.5" />
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 11.25v-8.25h6v8.25" />
                          </svg>`,
                    options: [
                        "The 'l' and 'r' distinction",
                        "The 'p' sound",
                        "The 'm' sound",
                        "The 'k' sound"
                    ],
                    correctAnswer: 0
                },
                {
                    category: "Intonation & Rhythm",
                    question: "What is the term for the natural rise and fall of pitch in speech?",
                    icon: `<svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
                          </svg>`,
                    options: [
                        "Intonation",
                        "Articulation",
                        "Pronunciation",
                        "Enunciation"
                    ],
                    correctAnswer: 0
                },
                {
                    category: "Connected Speech",
                    question: "What is the term for when a sound is omitted in connected speech, as in 'chocolate' pronounced as 'choc-late'?",
                    icon: `<svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" />
                          </svg>`,
                    options: [
                        "Elision",
                        "Assimilation",
                        "Liaison",
                        "Intrusion"
                    ],
                    correctAnswer: 0
                }
            ];

            // Variables to track quiz state
            let currentUser = {
                name: "",
                email: ""
            };
            let currentQuestionIndex = 0;
            let userAnswers = new Array(quizQuestions.length).fill(null);
            let quizTimer;
            let timeRemaining = 10 * 60; // 10 minutes in seconds

            // DOM elements
            const loginScreen = document.getElementById('login-screen');
            const categoryPreview = document.getElementById('category-preview');
            const quizScreen = document.getElementById('quiz-screen');
            const resultsScreen = document.getElementById('results-screen');
            const certificateScreen = document.getElementById('certificate-screen');
            
            const loginForm = document.getElementById('login-form');
            const startQuizBtn = document.getElementById('start-quiz-btn');
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');
            const simulatePaymentBtn = document.getElementById('simulate-payment-btn');
            const downloadAgainBtn = document.getElementById('download-again-btn');
            
            const questionContainer = document.getElementById('question-container');
            const questionIcon = document.getElementById('question-icon');
            const questionText = document.getElementById('question-text');
            const optionsContainer = document.getElementById('options-container');
            const currentQuestionElement = document.getElementById('current-question');
            const progressPercentElement = document.getElementById('progress-percent');
            const progressBarElement = document.getElementById('progress-bar');
            const timerElement = document.getElementById('timer');
            const timerBarElement = document.getElementById('timer-bar');

            // Event listeners
            loginForm.addEventListener('submit', handleLogin);
            startQuizBtn.addEventListener('click', startQuiz);
            prevBtn.addEventListener('click', showPreviousQuestion);
            nextBtn.addEventListener('click', handleNextQuestion);
            simulatePaymentBtn.addEventListener('click', handlePayment);
            downloadAgainBtn.addEventListener('click', downloadCertificate);

            // Functions
            function handleLogin(e) {
                e.preventDefault();
                currentUser.name = document.getElementById('fullName').value;
                currentUser.email = document.getElementById('email').value;
                
                // Store user info in localStorage
                localStorage.setItem('userName', currentUser.name);
                localStorage.setItem('userEmail', currentUser.email);
                
                // Show category preview
                loginScreen.classList.add('hidden');
                categoryPreview.classList.remove('hidden');
            }

            function startQuiz() {
                categoryPreview.classList.add('hidden');
                quizScreen.classList.remove('hidden');
                
                // Start the timer
                startTimer();
                
                // Show first question
                showQuestion(0);
                updateQuizProgress();
            }

            function startTimer() {
                updateTimerDisplay();
                quizTimer = setInterval(() => {
                    timeRemaining--;
                    updateTimerDisplay();
                    
                    if (timeRemaining <= 0) {
                        clearInterval(quizTimer);
                        submitQuiz();
                    }
                }, 1000);
            }

            function updateTimerDisplay() {
                const minutes = Math.floor(timeRemaining / 60);
                const seconds = timeRemaining % 60;
                timerElement.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                
                // Update timer bar
                const percentRemaining = (timeRemaining / (15 * 60)) * 100;
                timerBarElement.style.width = `${percentRemaining}%`;
                
                // Change color based on time remaining
                if (percentRemaining > 60) {
                    timerBarElement.className = 'timer-bar bg-gradient-to-r from-cyan-400 to-blue-400 h-2 rounded-full';
                } else if (percentRemaining > 30) {
                    timerBarElement.className = 'timer-bar bg-gradient-to-r from-yellow-400 to-orange-400 h-2 rounded-full';
                } else {
                    timerBarElement.className = 'timer-bar bg-gradient-to-r from-red-600 to-red-400 h-2 rounded-full';
                }
            }

            function showQuestion(index) {
                const question = quizQuestions[index];
                
                // Update question content
                questionIcon.innerHTML = question.icon;
                questionText.textContent = question.question;
                
                // Clear previous options
                optionsContainer.innerHTML = '';
                
                // Add new options
                question.options.forEach((option, i) => {
                    const optionElement = document.createElement('div');
                    optionElement.className = `quiz-option p-4 border border-gray-600 rounded-lg cursor-pointer transition-colors ${userAnswers[index] === i ? 'selected' : ''}`;
                    optionElement.innerHTML = `
                        <div class="flex items-center">
                            <div class="w-6 h-6 rounded-full border-2 border-gray-400 flex items-center justify-center mr-3">
                                ${userAnswers[index] === i ? '<div class="w-3 h-3 rounded-full bg-cyan-400"></div>' : ''}
                            </div>
                            <span class="text-white">${option}</span>
                        </div>
                    `;
                    
                    optionElement.addEventListener('click', () => {
                        // Remove selected class from all options
                        document.querySelectorAll('.quiz-option').forEach(opt => {
                            opt.classList.remove('selected');
                            opt.querySelector('.w-6').innerHTML = '';
                        });
                        
                        // Add selected class to clicked option
                        optionElement.classList.add('selected');
                        optionElement.querySelector('.w-6').innerHTML = '<div class="w-3 h-3 rounded-full bg-cyan-400"></div>';
                        
                        // Save answer
                        userAnswers[index] = i;
                        
                        // Enable next button if it was disabled
                        nextBtn.disabled = false;
                    });
                    
                    optionsContainer.appendChild(optionElement);
                });
                
                // Update current question index
                currentQuestionIndex = index;
                
                // Update navigation buttons
                prevBtn.disabled = index === 0;
                nextBtn.textContent = index === quizQuestions.length - 1 ? 'Submit' : 'Next';
                
                // Disable next button if no answer selected
                nextBtn.disabled = userAnswers[index] === null;
                
                // Update progress indicators
                currentQuestionElement.textContent = index + 1;
                const progressPercent = Math.round(((index + 1) / quizQuestions.length) * 100);
                progressPercentElement.textContent = progressPercent;
                progressBarElement.style.width = `${progressPercent}%`;
                
                // Add animation
                questionContainer.classList.remove('scale-in');
                void questionContainer.offsetWidth; // Trigger reflow
                questionContainer.classList.add('scale-in');
            }

            function showPreviousQuestion() {
                if (currentQuestionIndex > 0) {
                    showQuestion(currentQuestionIndex - 1);
                }
            }

            function handleNextQuestion() {
                if (currentQuestionIndex < quizQuestions.length - 1) {
                    showQuestion(currentQuestionIndex + 1);
                } else {
                    submitQuiz();
                }
            }

            function updateQuizProgress() {
                const answeredCount = userAnswers.filter(answer => answer !== null).length;
                const progressPercent = Math.round((answeredCount / quizQuestions.length) * 100);
                progressPercentElement.textContent = progressPercent;
                progressBarElement.style.width = `${progressPercent}%`;
            }

            function submitQuiz() {
                // Stop the timer
                clearInterval(quizTimer);
                
                // Calculate results
                const results = calculateResults();
                
                // Display results
                displayResults(results);
                
                // Hide quiz screen and show results screen
                quizScreen.classList.add('hidden');
                resultsScreen.classList.remove('hidden');
            }

            function calculateResults() {
                // Calculate total score
                let totalCorrect = 0;
                userAnswers.forEach((answer, index) => {
                    if (answer === quizQuestions[index].correctAnswer) {
                        totalCorrect++;
                    }
                });
                
                const totalScore = Math.round((totalCorrect / quizQuestions.length) * 100);
                
                // Calculate category scores
                const categories = {};
                quizQuestions.forEach((question, index) => {
                    const category = question.category;
                    if (!categories[category]) {
                        categories[category] = {
                            total: 0,
                            correct: 0
                        };
                    }
                    
                    categories[category].total++;
                    if (userAnswers[index] === question.correctAnswer) {
                        categories[category].correct++;
                    }
                });
                
                // Convert to percentages and ratings
                const categoryResults = {};
                Object.keys(categories).forEach(category => {
                    const score = Math.round((categories[category].correct / categories[category].total) * 100);
                    let rating;
                    let icon;
                    
                    if (score >= 90) {
                        rating = 'Excellent';
                        icon = '🏆';
                    } else if (score >= 75) {
                        rating = 'Good';
                        icon = '👍';
                    } else if (score >= 60) {
                        rating = 'Satisfactory';
                        icon = '👌';
                    } else {
                        rating = 'Needs Improvement';
                        icon = '📝';
                    }
                    
                    categoryResults[category] = {
                        score,
                        rating,
                        icon
                    };
                });
                
                // Determine overall rating
                let overallRating;
                if (totalScore >= 90) {
                    overallRating = 'Excellent';
                } else if (totalScore >= 75) {
                    overallRating = 'Good';
                } else if (totalScore >= 60) {
                    overallRating = 'Satisfactory';
                } else {
                    overallRating = 'Needs Improvement';
                }
                
                return {
                    totalScore,
                    totalCorrect,
                    totalQuestions: quizQuestions.length,
                    categoryResults,
                    overallRating
                };
            }

            function displayResults(results) {
                // Update total score
                document.getElementById('total-score').textContent = results.totalScore;
                document.getElementById('max-score').textContent = '100';
                
                // Update score gauge
                const scoreCircle = document.getElementById('score-circle');
                const circumference = 2 * Math.PI * 45; // 2πr
                const offset = circumference - (results.totalScore / 100) * circumference;
                scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
                scoreCircle.style.strokeDashoffset = offset;
                
                // Set color based on score
                if (results.totalScore >= 90) {
                    scoreCircle.style.stroke = '#10B981'; // Green
                } else if (results.totalScore >= 75) {
                    scoreCircle.style.stroke = '#3B82F6'; // Blue
                } else if (results.totalScore >= 60) {
                    scoreCircle.style.stroke = '#F59E0B'; // Yellow
                } else {
                    scoreCircle.style.stroke = '#EF4444'; // Red
                }
                
                document.getElementById('score-percentage').textContent = `${results.totalScore}%`;
                
                // Update category results
                const categoryResultsContainer = document.getElementById('category-results');
                categoryResultsContainer.innerHTML = '';
                
                Object.keys(results.categoryResults).forEach(category => {
                    const result = results.categoryResults[category];
                    const categoryElement = document.createElement('div');
                    
                    // Set background color based on rating
                    let bgColor;
                    if (result.rating === 'Excellent') {
                        bgColor = 'bg-gradient-to-br from-green-500 to-emerald-600';
                    } else if (result.rating === 'Good') {
                        bgColor = 'bg-gradient-to-br from-blue-500 to-indigo-600';
                    } else if (result.rating === 'Satisfactory') {
                        bgColor = 'bg-gradient-to-br from-yellow-400 to-orange-500';
                    } else {
                        bgColor = 'bg-gradient-to-br from-red-500 to-pink-600';
                    }
                    
                    categoryElement.className = `${bgColor} rounded-lg p-4 text-white`;
                    categoryElement.innerHTML = `
                        <div class="flex items-center justify-between">
                            <div>
                                <h4 class="font-medium">${category}</h4>
                                <p class="text-sm text-white text-opacity-90">${result.rating}</p>
                            </div>
                            <div class="text-2xl">${result.icon}</div>
                        </div>
                        <div class="mt-2 w-full bg-white bg-opacity-30 rounded-full h-2">
                            <div class="bg-white h-2 rounded-full" style="width: ${result.score}%"></div>
                        </div>
                        <div class="text-right mt-1 text-sm">${result.score}%</div>
                    `;
                    
                    categoryResultsContainer.appendChild(categoryElement);
                });
                
                // Store results for certificate generation
                localStorage.setItem('quizResults', JSON.stringify(results));
            }

            function handlePayment() {
                // In a real app, this would handle actual payment processing
                // For this demo, we'll simulate a successful payment
                
                // Hide results screen and show certificate screen
                resultsScreen.classList.add('hidden');
                certificateScreen.classList.remove('hidden');
                
                // Generate certificate
                generateCertificate();
                
                // Download certificate automatically
                setTimeout(downloadCertificate, 1000);
            }

            function generateCertificate() {
                // Get user info and results
                const userName = localStorage.getItem('userName') || 'John Doe';
                const results = JSON.parse(localStorage.getItem('quizResults')) || {
                    totalScore: 85,
                    overallRating: 'Good',
                    categoryResults: {}
                };
                
                // Generate certificate ID
                const certificateId = 'SKX-' + Math.floor(100000 + Math.random() * 900000);
                
                // Get current date
                const currentDate = new Date().toLocaleDateString('en-US', {
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric'
                });
                
                // Update certificate content
                document.getElementById('certificate-name').textContent = userName;
                document.getElementById('certificate-score').textContent = `${results.totalScore}/100`;
                document.getElementById('certificate-rank').textContent = results.overallRating;
                document.getElementById('certificate-date').textContent = currentDate;
                document.getElementById('certificate-id').textContent = certificateId;
                
                // Update category results
                const certificateCategoriesContainer = document.getElementById('certificate-categories');
                certificateCategoriesContainer.innerHTML = '';
                
                Object.keys(results.categoryResults).forEach(category => {
                    const result = results.categoryResults[category];
                    const categoryElement = document.createElement('div');
                    categoryElement.className = 'flex items-center mb-1';
                    categoryElement.innerHTML = `
                        <span class="mr-2">${result.icon}</span>
                        <span class="text-sm">${category}: <span class="font-medium">${result.rating}</span></span>
                    `;
                    
                    certificateCategoriesContainer.appendChild(categoryElement);
                });
            }

            function downloadCertificate() {
                const certificate = document.getElementById('certificate');
                
                // Use html2canvas to capture the certificate as an image
                html2canvas(certificate, {
                    scale: 2,
                    logging: false,
                    useCORS: true
                }).then(canvas => {
                    const imgData = canvas.toDataURL('image/png');
                    
                    // Create PDF using jsPDF
                    const { jsPDF } = window.jspdf;
                    const pdf = new jsPDF({
                        orientation: 'landscape',
                        unit: 'mm',
                        format: 'a4'
                    });
                      const imgProps = pdf.getImageProperties(imgData);
                    const pdfWidth = pdf.internal.pageSize.getWidth();
                    const pdfHeightLimit = pdf.internal.pageSize.getHeight(); // max height available
                    const scaleRatio = Math.min(pdfWidth / imgProps.width, pdfHeightLimit / imgProps.height);
                    const imgWidth = imgProps.width * scaleRatio;
                    const imgHeight = imgProps.height * scaleRatio;

                    const xOffset = (pdfWidth - imgWidth) / 2;
                    const yOffset = (pdfHeightLimit - imgHeight) / 2;
                    pdf.addImage(imgData, 'PNG', xOffset, yOffset, imgWidth, imgHeight);

                    // Download the PDF
                    const userName = localStorage.getItem('userName') || 'User';
                    const fileName = `${userName.replace(/\s+/g, '_')}_Accent_Training_Certificate.pdf`;
                    pdf.save(fileName);
                });
            }
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'968ef9c1c566f7fa',t:'MTc1NDE1MjM5Mi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
