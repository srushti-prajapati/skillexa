<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Accent Training Skills Assessment | Skillexa</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Dancing+Script:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            overflow-x: hidden;
        }
        .handwriting {
            font-family: 'Dancing Script', cursive;
        }
        .red-yellow-gradient {
            background: linear-gradient(135deg, #FF416C 0%, #FF4B2B 50%, #FFD700 100%);
        }
        .black-yellow-gradient {
            background: linear-gradient(135deg, #000000 0%, #333333 50%, #FFD700 100%);
        }
        .category-card {
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }
        .category-card:hover {
            transform: translateY(-5px) scale(1.02);
        }
        .fade-in {
            animation: fadeIn 0.8s ease-in;
        }
        .slide-in {
            animation: slideIn 0.8s ease-out;
        }
        .scale-in {
            animation: scaleIn 0.5s ease-out;
        }
        .bounce-in {
            animation: bounceIn 1s ease-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        @keyframes slideIn {
            from { transform: translateY(30px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        @keyframes scaleIn {
            from { transform: scale(0.9); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }
        @keyframes bounceIn {
            0% { transform: scale(0.3); opacity: 0; }
            50% { transform: scale(1.05); }
            70% { transform: scale(0.9); }
            100% { transform: scale(1); opacity: 1; }
        }
        .certificate-border {
            background: linear-gradient(135deg, #ec4899, #8b5cf6, #ec4899);
            padding: 12px;
            border-radius: 15px;
        }
        .certificate-inner-border {
            background: linear-gradient(135deg, #8b5cf6, #ec4899, #8b5cf6);
            padding: 8px;
            border-radius: 10px;
        }
        .certificate-content {
            background: white;
            position: relative;
            overflow: hidden;
            border-radius: 5px;
        }
        .watermark {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) rotate(-30deg);
            font-size: 120px;
            color: rgba(0,0,0,0.03);
            font-weight: bold;
            white-space: nowrap;
            z-index: 0;
        }
        .timer-bar {
            transition: width 1s linear;
        }
        .progress-bar {
            transition: width 0.5s ease;
        }
        .quiz-option:hover {
            background-color: rgba(255, 255, 255, 0.1);
            transform: translateX(5px);
        }
        .quiz-option.selected {
            background-color: rgba(255, 215, 0, 0.2);
            border-color: #FFD700;
            transform: translateX(5px);
        }
        .glow-text {
            text-shadow: 0 0 15px rgba(255, 255, 255, 0.8);
        }
        .shimmer {
            background: linear-gradient(90deg, 
                rgba(255,255,255,0) 0%, 
                rgba(255,255,255,0.2) 50%, 
                rgba(255,255,255,0) 100%);
            background-size: 200% 100%;
            animation: shimmer 2s infinite;
        }
        @keyframes shimmer {
            0% { background-position: -200% 0; }
            100% { background-position: 200% 0; }
        }
        .floating {
            animation: floating 3s ease-in-out infinite;
        }
        @keyframes floating {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        .pulse-glow {
            animation: pulseGlow 2s ease-in-out infinite;
        }
        @keyframes pulseGlow {
            0%, 100% { box-shadow: 0 0 20px rgba(255, 215, 0, 0.5); }
            50% { box-shadow: 0 0 30px rgba(255, 215, 0, 0.8); }
        }
        @media (max-width: 480px) {
  h1, h2, h3 {
    font-size: 90%; /* scale down big headings */
  }

  button {
    width: 100%; /* buttons stretch on small phones */
  }

  .category-card,
  .card {
    padding: 1rem;
    width: 100% !important; /* stack neatly */
  }

  .container {
    padding: 0 10px; /* reduce side spacing */
  }
}

    </style>
</head>
<body>
    <!-- Main Container -->
    <div id="app" class="min-h-screen w-full">
        <!-- Login Screen -->
        <div id="login-screen" class="min-h-screen red-yellow-gradient flex flex-col items-center justify-center px-4 py-12">
            <div class="w-full max-w-md bg-white bg-opacity-10 backdrop-blur-sm rounded-xl shadow-lg p-8 fade-in floating">
                <div class="text-center mb-8">
                    <h1 class="text-3xl font-bold text-white glow-text mb-2">üéØ Accent Training</h1>
                    <h2 class="text-2xl font-bold text-white glow-text">Skills Assessment</h2>
                    <p class="text-white text-opacity-90 mt-2">Master Your Communication Skills</p>
                </div>
                <form id="login-form" class="space-y-6">
                    <div>
                        <label for="fullName" class="block text-sm font-medium text-white mb-1">Full Name</label>
                        <input type="text" id="fullName" required class="w-full px-4 py-2 bg-white bg-opacity-20 border border-white border-opacity-30 rounded-md focus:outline-none focus:ring-2 focus:ring-yellow-400 text-white placeholder-white placeholder-opacity-70" placeholder="Enter your full name">
                    </div>
                    <div>
                        <label for="email" class="block text-sm font-medium text-white mb-1">Email Address</label>
                        <input type="email" id="email" required class="w-full px-4 py-2 bg-white bg-opacity-20 border border-white border-opacity-30 rounded-md focus:outline-none focus:ring-2 focus:ring-yellow-400 text-white placeholder-white placeholder-opacity-70" placeholder="Enter your email">
                    </div>
                    <button type="submit" class="w-full bg-gradient-to-r from-yellow-500 to-red-500 text-white py-3 rounded-md font-medium hover:opacity-90 transition-all transform hover:scale-105 shimmer">
                        üöÄ Start Assessment
                    </button>
                </form>
            </div>
        </div>

        <!-- Category Preview Screen -->
        <div id="category-preview" class="hidden min-h-screen red-yellow-gradient flex flex-col items-center justify-center px-4 py-12">
            <div class="w-full max-w-4xl text-center mb-10 fade-in">
                <h1 class="text-4xl md:text-5xl font-bold text-white mb-4 glow-text">üéØ Accent Training Skills Assessment</h1>
                <p class="text-xl text-white text-opacity-90">Explore the key communication areas we'll be evaluating</p>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full max-w-6xl mb-10">
                <!-- Category 1: Listening Skills -->
                <div class="category-card bg-white bg-opacity-15 backdrop-blur-sm rounded-xl p-6 text-white shadow-lg slide-in pulse-glow" style="animation-delay: 0.1s">
                    <div class="flex items-center mb-4">
                        <div class="bg-gradient-to-br from-blue-400 to-blue-600 p-3 rounded-full mr-4 floating">
                            <span class="text-2xl">üéß</span>
                        </div>
                        <h3 class="text-xl font-bold">Listening Skills</h3>
                    </div>
                    <p class="text-white text-opacity-90">Active listening, comprehension, and understanding different accents and speech patterns.</p>
                </div>
                
                <!-- Category 2: Verbal Clarity -->
                <div class="category-card bg-white bg-opacity-15 backdrop-blur-sm rounded-xl p-6 text-white shadow-lg slide-in pulse-glow" style="animation-delay: 0.2s">
                    <div class="flex items-center mb-4">
                        <div class="bg-gradient-to-br from-green-400 to-green-600 p-3 rounded-full mr-4 floating">
                            <span class="text-2xl">üó£Ô∏è</span>
                        </div>
                        <h3 class="text-xl font-bold">Verbal Clarity</h3>
                    </div>
                    <p class="text-white text-opacity-90">Clear pronunciation, articulation, and effective verbal communication techniques.</p>
                </div>
                
                <!-- Category 3: Feedback & Response -->
                <div class="category-card bg-white bg-opacity-15 backdrop-blur-sm rounded-xl p-6 text-white shadow-lg slide-in pulse-glow" style="animation-delay: 0.3s">
                    <div class="flex items-center mb-4">
                        <div class="bg-gradient-to-br from-purple-400 to-purple-600 p-3 rounded-full mr-4 floating">
                            <span class="text-2xl">üí¨</span>
                        </div>
                        <h3 class="text-xl font-bold">Feedback & Response</h3>
                    </div>
                    <p class="text-white text-opacity-90">Providing constructive feedback and responding appropriately in conversations.</p>
                </div>
                
                <!-- Category 4: Accent Adaptation -->
                <div class="category-card bg-white bg-opacity-15 backdrop-blur-sm rounded-xl p-6 text-white shadow-lg slide-in pulse-glow" style="animation-delay: 0.4s">
                    <div class="flex items-center mb-4">
                        <div class="bg-gradient-to-br from-yellow-400 to-yellow-600 p-3 rounded-full mr-4 floating">
                            <span class="text-2xl">üåç</span>
                        </div>
                        <h3 class="text-xl font-bold">Accent Adaptation</h3>
                    </div>
                    <p class="text-white text-opacity-90">Adapting to different accents and improving pronunciation for better communication.</p>
                </div>
                
                <!-- Category 5: Non-Verbal Communication -->
                <div class="category-card bg-white bg-opacity-15 backdrop-blur-sm rounded-xl p-6 text-white shadow-lg slide-in pulse-glow" style="animation-delay: 0.5s">
                    <div class="flex items-center mb-4">
                        <div class="bg-gradient-to-br from-red-400 to-red-600 p-3 rounded-full mr-4 floating">
                            <span class="text-2xl">üëã</span>
                        </div>
                        <h3 class="text-xl font-bold">Non-Verbal Communication</h3>
                    </div>
                    <p class="text-white text-opacity-90">Body language, gestures, and visual cues that enhance communication effectiveness.</p>
                </div>
                
                <!-- Category 6: Cultural Awareness -->
                <div class="category-card bg-white bg-opacity-15 backdrop-blur-sm rounded-xl p-6 text-white shadow-lg slide-in pulse-glow" style="animation-delay: 0.6s">
                    <div class="flex items-center mb-4">
                        <div class="bg-gradient-to-br from-pink-400 to-pink-600 p-3 rounded-full mr-4 floating">
                            <span class="text-2xl">ü§ù</span>
                        </div>
                        <h3 class="text-xl font-bold">Cultural Awareness</h3>
                    </div>
                    <p class="text-white text-opacity-90">Understanding cultural nuances and adapting communication styles accordingly.</p>
                </div>
            </div>
            
            <div class="w-full max-w-md text-center fade-in">
                <button id="start-quiz-btn" class="px-8 py-4 bg-gradient-to-r from-yellow-500 to-red-500 text-white rounded-full font-medium text-lg hover:opacity-90 transition-all transform hover:scale-105 shadow-lg shimmer bounce-in">
                    üéØ Start 20-Question Assessment
                </button>
                <p class="text-white text-opacity-90 mt-4">‚è∞ You'll have 10 minutes to complete all questions</p>
            </div>
        </div>

        <!-- Quiz Screen -->
        <div id="quiz-screen" class="hidden min-h-screen black-yellow-gradient flex flex-col">
            <!-- Quiz Header -->
            <div class="p-4 md:p-6 flex flex-col md:flex-row justify-between items-center">
                <div class="mb-4 md:mb-0">
                    <h2 class="text-2xl font-bold text-white glow-text">üéØ Accent Training Skills Assessment</h2>
                    <p class="text-gray-300">Answer each question to the best of your ability</p>
                </div>
                <div class="flex flex-col items-end">
                    <div class="flex items-center mb-2">
                        <span class="text-2xl mr-2">‚è∞</span>
                        <span id="timer" class="text-gray-300 font-medium text-lg">10:00</span>
                    </div>
                    <div class="w-full bg-gray-700 rounded-full h-3">
                        <div id="timer-bar" class="timer-bar bg-gradient-to-r from-yellow-400 to-red-400 h-3 rounded-full" style="width: 100%"></div>
                    </div>
                </div>
            </div>
            
            <!-- Quiz Progress -->
            <div class="px-4 md:px-6 py-2">
                <div class="flex justify-between items-center mb-2">
                    <span class="text-sm text-gray-300">Question <span id="current-question">1</span> of 20</span>
                    <span class="text-sm text-gray-300"><span id="progress-percent">5</span>% Complete</span>
                </div>
                <div class="w-full bg-gray-700 rounded-full h-3">
                    <div id="progress-bar" class="progress-bar bg-gradient-to-r from-yellow-400 to-red-400 h-3 rounded-full" style="width: 5%"></div>
                </div>
            </div>
            
            <!-- Quiz Content -->
            <div class="flex-grow flex items-center justify-center p-4 md:p-6">
                <div id="question-container" class="w-full max-w-4xl bg-gray-800 bg-opacity-90 backdrop-blur-sm rounded-xl p-6 md:p-8 shadow-lg scale-in">
                    <div id="question-icon" class="mx-auto mb-6 bg-gradient-to-br from-yellow-500 to-red-400 w-20 h-20 rounded-full flex items-center justify-center text-3xl floating">
                        üéß
                    </div>
                    <h3 id="question-text" class="text-xl md:text-2xl font-medium text-white text-center mb-8 glow-text">Which technique is most effective for improving listening comprehension?</h3>
                    
                    <div id="options-container" class="space-y-4">
                        <!-- Options will be dynamically generated -->
                    </div>
                </div>
            </div>
            
            <!-- Quiz Navigation -->
            <div class="p-4 md:p-6 flex justify-between">
                <button id="prev-btn" class="px-6 py-3 bg-gray-700 text-gray-300 rounded-lg font-medium hover:bg-gray-600 transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed">‚¨ÖÔ∏è Previous</button>
                <button id="next-btn" class="px-6 py-3 bg-gradient-to-r from-yellow-500 to-red-500 text-white rounded-lg font-medium hover:opacity-90 transition-all transform hover:scale-105 shimmer">Next ‚û°Ô∏è</button>
            </div>
        </div>

        <!-- Results Screen -->
        <div id="results-screen" class="hidden min-h-screen red-yellow-gradient flex flex-col">
            <div class="p-4 md:p-6">
                <h2 class="text-2xl md:text-3xl font-bold text-white text-center glow-text mb-2">üèÜ Your Assessment Results</h2>
                <p class="text-white text-opacity-80 text-center mb-8">Here's how you performed in the Accent Training Skills Assessment</p>
                
                <div class="w-full max-w-5xl mx-auto bg-white bg-opacity-15 backdrop-blur-sm rounded-xl p-6 md:p-8 shadow-lg mb-8">
                    <div class="flex flex-col md:flex-row items-center justify-between mb-8">
                        <div class="mb-6 md:mb-0 text-center md:text-left">
                            <h3 class="text-xl text-white mb-2">Total Score</h3>
                            <div class="text-6xl font-bold text-white glow-text"><span id="total-score">0</span>/<span id="max-score">100</span></div>
                            <p class="text-white text-opacity-90 mt-2">Communication Skills Assessment</p>
                        </div>
                        <div class="w-full md:w-auto">
                            <div id="score-gauge" class="w-48 h-48 mx-auto relative">
                                <svg class="w-full h-full" viewBox="0 0 100 100">
                                    <circle cx="50" cy="50" r="45" fill="none" stroke="#ffffff33" stroke-width="8" />
                                    <circle id="score-circle" cx="50" cy="50" r="45" fill="none" stroke-width="8" stroke-linecap="round" stroke-dasharray="283" stroke-dashoffset="283" transform="rotate(-90 50 50)" />
                                </svg>
                                <div class="absolute inset-0 flex items-center justify-center">
                                    <span id="score-percentage" class="text-3xl font-bold text-white glow-text">0%</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <h3 class="text-xl text-white mb-6 glow-text">üìä Performance by Category</h3>
                    <div id="category-results" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        <!-- Category results will be dynamically generated -->
                    </div>
                </div>
                
                <div class="w-full max-w-md mx-auto bg-white bg-opacity-15 backdrop-blur-sm rounded-xl p-6 shadow-lg text-center">
                    <h3 class="text-xl text-white mb-4 glow-text">üèÜ Get Your Certificate</h3>
                    <p class="text-white text-opacity-80 mb-6">Complete the payment to receive your official Skillexa certification</p>
                    
                    <div class="mb-6">
                        <div id="qr-code" class="w-48 h-48 mx-auto bg-white p-4 rounded-lg shadow-lg">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" class="w-full h-full">
                                <!-- Enhanced QR code SVG representation -->
                                <rect x="5" y="5" width="90" height="90" fill="none" stroke="black" stroke-width="1" />
                                <g fill="black">
                                    <!-- QR code pattern - more detailed representation -->
                                    <rect x="15" y="15" width="25" height="25" />
                                    <rect x="60" y="15" width="25" height="25" />
                                    <rect x="15" y="60" width="25" height="25" />
                                    <rect x="45" y="45" width="15" height="15" />
                                    <rect x="70" y="70" width="10" height="10" />
                                    <rect x="25" y="50" width="8" height="8" />
                                    <rect x="50" y="25" width="8" height="8" />
                                    <rect x="70" y="50" width="8" height="8" />
                                    <rect x="50" y="70" width="8" height="8" />
                                    <rect x="35" y="35" width="5" height="5" />
                                    <rect x="75" y="35" width="5" height="5" />
                                    <rect x="35" y="75" width="5" height="5" />
                                </g>
                            </svg>
                        </div>
                        <p class="text-white text-opacity-80 mt-3">üì± Scan to pay via UPI (Google Pay, PhonePe, etc.)</p>
                    </div>
                    
                    <!-- Payment button with countdown -->
                    <button id="simulate-payment-btn" class="w-full px-6 py-3 bg-gray-500 text-white rounded-lg font-medium cursor-not-allowed transition-all" disabled>
                        <span id="payment-btn-text">Please wait <span id="countdown">60</span>s before payment</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- Certificate Screen -->
        <div id="certificate-screen" class="hidden min-h-screen bg-gray-100 p-4 md:p-8 flex flex-col items-center justify-center">
            <div class="mb-6 text-center">
                <h2 class="text-2xl md:text-3xl font-bold text-gray-800">üéâ Your Certificate is Ready!</h2>
                <p class="text-gray-600">Your certificate has been generated and will download automatically</p>
            </div>
            
            <!-- Certificate Preview -->
            <div id="certificate" class="w-full max-w-6xl certificate-border shadow-2xl">
                <div class="certificate-inner-border">
                    <div class="certificate-content p-8">
                        <div class="watermark">SKILLEXA</div>
                        
                        <!-- Certificate Header -->
                        <div class="flex justify-between items-start mb-6 relative z-10">
                            <!-- Logo -->
                             <div class="w-16 h-16 rounded-md overflow-hidden mr-3 shadow-md">
                            <img src="assets/logo.jpg" alt="Skillexa Logo" class="w-full h-full object-cover" />
                            </div>
                            
                            <div class="flex items-center">
                                <div class="text-right mr-4">
                                    <h3 class="handwriting text-2xl font-bold text-gray-800">CERTIFICATE</h3>
                                    <p class="handwriting text-lg text-gray-600">OF ACHIEVEMENT</p>
                                </div>
                                <div class="w-16 h-16">
                                    <img src="https://img.icons8.com/color/96/verified-badge.png" alt="Verified" class="w-full h-full" onerror="this.src=''; this.alt='‚úÖ Verified'; this.style.display='flex'; this.style.alignItems='center'; this.style.justifyContent='center'; this.style.fontSize='40px'; this.style.background='linear-gradient(135deg, #10B981, #059669)'; this.style.borderRadius='50%';">
                                </div>
                            </div>
                        </div>
                        
                        <!-- Certificate Title -->
                        <div class="text-center mb-8 relative z-10">
                            <h2 class="handwriting text-4xl text-gray-800 mb-2">Certificate of Excellence</h2>
                            <p class="handwriting text-lg text-gray-600">This certifies that</p>
                            <h3 id="certificate-name" class="handwriting text-4xl text-gray-800 my-4 font-bold">John Doe</h3>
                            <p class="handwriting text-lg text-gray-600 max-w-2xl mx-auto">has successfully completed the Accent Training Skills Assessment with outstanding performance and is hereby recognized for their achievement in Communication Skills.</p>
                        </div>
                        
                        <!-- Certificate Details -->
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-8 relative z-10">
                            <div class="space-y-3">
                                <h4 class="handwriting text-xl font-bold text-gray-800 mb-4">Assessment Details</h4>
                                <div class="space-y-2">
                                    <div class="flex items-center">
                                        <span class="handwriting text-gray-600 w-32">Skill:</span>
                                        <span class="handwriting font-medium text-gray-800">Communication Skills</span>
                                    </div>
                                    <div class="flex items-center">
                                        <span class="handwriting text-gray-600 w-32">Total Score:</span>
                                        <span id="certificate-score" class="handwriting font-medium text-gray-800">85/100</span>
                                    </div>
                                    <div class="flex items-center">
                                        <span class="handwriting text-gray-600 w-32">Rank:</span>
                                        <span id="certificate-rank" class="handwriting font-medium text-gray-800">Excellent</span>
                                    </div>
                                    <div class="flex items-center">
                                        <span class="handwriting text-gray-600 w-32">Date:</span>
                                        <span id="certificate-date" class="handwriting font-medium text-gray-800">May 15, 2024</span>
                                    </div>
                                    <div class="flex items-center">
                                        <span class="handwriting text-gray-600 w-32">Certificate ID:</span>
                                        <span id="certificate-id" class="handwriting font-medium text-gray-800">SKX-123456</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div>
                                <h4 class="handwriting text-xl font-bold text-gray-800 mb-4">Performance Breakdown</h4>
                                <div id="certificate-categories" class="space-y-2">
                                    <!-- Will be populated dynamically -->
                                </div>
                            </div>
                        </div>
                        
                        <!-- Certification Mark -->
                        <div class="text-center my-6 relative z-10">
                            <div class="handwriting text-3xl font-bold text-gray-400">SKILLEXA CERTIFIED 2025</div>
                        </div>
                        
                        <!-- Signatures -->
                        <div class="flex justify-between items-end mt-8 relative z-10">
                            <div class="text-center">
                                <div class="w-48 border-b-2 border-gray-400 mb-2"></div>
                                <p class="handwriting text-gray-800 font-bold text-lg">Jagdeep Kaur I</p>
                                <p class="handwriting text-gray-600">Founder</p>
                            </div>
                            
                            <div class="text-center">
                                <div class="w-48 border-b-2 border-gray-400 mb-2"></div>
                                <p class="handwriting text-gray-800 font-bold text-lg">Prajapati Srushti K</p>
                                <p class="handwriting text-gray-600">Co-Founder</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="mt-8">
                <button id="download-again-btn" class="px-8 py-3 bg-gradient-to-r from-yellow-500 to-red-500 text-white rounded-lg font-medium hover:opacity-90 transition-all transform hover:scale-105 shimmer">
                    üì• Download Certificate Again
                </button>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Quiz questions data for Accent Training Skills
            const quizQuestions = [
                {
                    category: "Listening Skills",
                    question: "Which technique is most effective for improving listening comprehension?",
                    icon: "üéß",
                    options: [
                        "Active listening with note-taking and summarization",
                        "Passive listening while multitasking",
                        "Listening only to familiar accents",
                        "Focusing solely on individual words"
                    ],
                    correctAnswer: 0
                },
                {
                    category: "Listening Skills",
                    question: "What is the best approach when you don't understand a speaker's accent?",
                    icon: "üéß",
                    options: [
                        "Politely ask for clarification or repetition",
                        "Pretend to understand and guess the meaning",
                        "Immediately switch to written communication",
                        "Ask them to speak in a different accent"
                    ],
                    correctAnswer: 0
                },
                {
                    category: "Listening Skills",
                    question: "Which factor most affects listening comprehension in accent training?",
                    icon: "üéß",
                    options: [
                        "Exposure to diverse accents and speech patterns",
                        "Speaking louder to the person",
                        "Avoiding conversations with non-native speakers",
                        "Only listening to recorded materials"
                    ],
                    correctAnswer: 0
                },
                {
                    category: "Verbal Clarity",
                    question: "What is the most important aspect of clear verbal communication?",
                    icon: "üó£Ô∏è",
                    options: [
                        "Proper pronunciation and articulation",
                        "Speaking as fast as possible",
                        "Using complex vocabulary",
                        "Speaking in a monotone voice"
                    ],
                    correctAnswer: 0
                },
                {
                    category: "Verbal Clarity",
                    question: "How can you improve your pronunciation for better clarity?",
                    icon: "üó£Ô∏è",
                    options: [
                        "Practice with phonetic exercises and mirror work",
                        "Speak only in your native language",
                        "Avoid speaking in public",
                        "Speak very quietly"
                    ],
                    correctAnswer: 0
                },
                {
                    category: "Verbal Clarity",
                    question: "What should you do when someone doesn't understand your pronunciation?",
                    icon: "üó£Ô∏è",
                    options: [
                        "Slow down and enunciate more clearly",
                        "Speak louder and faster",
                        "Give up and walk away",
                        "Use only gestures"
                    ],
                    correctAnswer: 0
                },
                {
                    category: "Feedback & Response",
                    question: "What is the best way to provide constructive feedback about someone's accent?",
                    icon: "üí¨",
                    options: [
                        "Be specific, positive, and offer helpful suggestions",
                        "Point out every mistake immediately",
                        "Ignore all pronunciation errors",
                        "Criticize their native language"
                    ],
                    correctAnswer: 0
                },
                {
                    category: "Feedback & Response",
                    question: "How should you respond when receiving accent feedback?",
                    icon: "üí¨",
                    options: [
                        "Listen actively and ask clarifying questions",
                        "Become defensive and argue",
                        "Ignore the feedback completely",
                        "Stop speaking altogether"
                    ],
                    correctAnswer: 0
                },
                {
                    category: "Feedback & Response",
                    question: "What makes feedback most effective in accent training?",
                    icon: "üí¨",
                    options: [
                        "Timely, specific, and actionable suggestions",
                        "General comments about overall performance",
                        "Comparing to native speakers only",
                        "Focusing only on mistakes"
                    ],
                    correctAnswer: 0
                },
                {
                    category: "Accent Adaptation",
                    question: "What is the key to successful accent adaptation?",
                    icon: "üåç",
                    options: [
                        "Consistent practice and exposure to target accent",
                        "Completely abandoning your native accent",
                        "Imitating only one specific person",
                        "Avoiding your native language entirely"
                    ],
                    correctAnswer: 0
                },
                {
                    category: "Accent Adaptation",
                    question: "Which approach is most effective for accent modification?",
                    icon: "üåç",
                    options: [
                        "Gradual adjustment while maintaining clear communication",
                        "Sudden complete change overnight",
                        "Only changing vowel sounds",
                        "Focusing solely on speed of speech"
                    ],
                    correctAnswer: 0
                },
                {
                    category: "Accent Adaptation",
                    question: "How should you practice accent adaptation?",
                    icon: "üåç",
                    options: [
                        "Regular practice with native speakers and audio materials",
                        "Only reading books silently",
                        "Avoiding any speaking practice",
                        "Practicing only with people from your own country"
                    ],
                    correctAnswer: 0
                },
                {
                    category: "Non-Verbal Communication",
                    question: "What percentage of communication is typically non-verbal?",
                    icon: "üëã",
                    options: [
                        "About 55-65% including body language and gestures",
                        "About 10-20%",
                        "About 90-95%",
                        "Non-verbal communication doesn't matter"
                    ],
                    correctAnswer: 0
                },
                {
                    category: "Non-Verbal Communication",
                    question: "Which non-verbal cue is most important in accent training?",
                    icon: "üëã",
                    options: [
                        "Facial expressions and mouth movements",
                        "Hand gestures only",
                        "Foot positioning",
                        "Clothing choices"
                    ],
                    correctAnswer: 0
                },
                {
                    category: "Non-Verbal Communication",
                    question: "How can body language support accent training?",
                    icon: "üëã",
                    options: [
                        "Reinforcing verbal messages and showing engagement",
                        "Replacing all verbal communication",
                        "Distracting from pronunciation errors",
                        "It has no connection to accent training"
                    ],
                    correctAnswer: 0
                },
                {
                    category: "Cultural Awareness",
                    question: "Why is cultural awareness important in accent training?",
                    icon: "ü§ù",
                    options: [
                        "Different cultures have varying communication styles and expectations",
                        "All cultures communicate exactly the same way",
                        "Cultural awareness is not relevant to accent training",
                        "Only grammar rules matter across cultures"
                    ],
                    correctAnswer: 0
                },
                {
                    category: "Cultural Awareness",
                    question: "How should you approach cultural differences in communication?",
                    icon: "ü§ù",
                    options: [
                        "With respect, curiosity, and willingness to adapt",
                        "By insisting everyone follows your cultural norms",
                        "By avoiding people from different cultures",
                        "By ignoring cultural differences completely"
                    ],
                    correctAnswer: 0
                },
                {
                    category: "Cultural Awareness",
                    question: "What is the best way to learn about communication styles in different cultures?",
                    icon: "ü§ù",
                    options: [
                        "Interact with people from diverse backgrounds and ask questions",
                        "Make assumptions based on stereotypes",
                        "Only read about cultures online",
                        "Avoid learning about other cultures"
                    ],
                    correctAnswer: 0
                },
                {
                    category: "Listening Skills",
                    question: "What should you focus on when listening to someone with a strong accent?",
                    icon: "üéß",
                    options: [
                        "Context clues and overall meaning rather than individual words",
                        "Only the words you can clearly understand",
                        "Correcting their pronunciation while they speak",
                        "Asking them to repeat every sentence"
                    ],
                    correctAnswer: 0
                },
                {
                    category: "Verbal Clarity",
                    question: "Which technique helps improve overall verbal clarity the most?",
                    icon: "üó£Ô∏è",
                    options: [
                        "Recording yourself speaking and analyzing areas for improvement",
                        "Speaking only when absolutely necessary",
                        "Avoiding difficult words completely",
                        "Speaking only to people who understand your accent"
                    ],
                    correctAnswer: 0
                }
            ];

            // Variables to track quiz state
            let currentUser = {
                name: "",
                email: ""
            };
            let currentQuestionIndex = 0;
            let userAnswers = new Array(quizQuestions.length).fill(null);
            let quizTimer;
            let timeRemaining = 10 * 60; // 10 minutes in seconds

            // DOM elements
            const loginScreen = document.getElementById('login-screen');
            const categoryPreview = document.getElementById('category-preview');
            const quizScreen = document.getElementById('quiz-screen');
            const resultsScreen = document.getElementById('results-screen');
            const certificateScreen = document.getElementById('certificate-screen');
            
            const loginForm = document.getElementById('login-form');
            const startQuizBtn = document.getElementById('start-quiz-btn');
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');
            const simulatePaymentBtn = document.getElementById('simulate-payment-btn');
            const downloadAgainBtn = document.getElementById('download-again-btn');
            
            const questionContainer = document.getElementById('question-container');
            const questionIcon = document.getElementById('question-icon');
            const questionText = document.getElementById('question-text');
            const optionsContainer = document.getElementById('options-container');
            const currentQuestionElement = document.getElementById('current-question');
            const progressPercentElement = document.getElementById('progress-percent');
            const progressBarElement = document.getElementById('progress-bar');
            const timerElement = document.getElementById('timer');
            const timerBarElement = document.getElementById('timer-bar');

            // Event listeners
            loginForm.addEventListener('submit', handleLogin);
            startQuizBtn.addEventListener('click', startQuiz);
            prevBtn.addEventListener('click', showPreviousQuestion);
            nextBtn.addEventListener('click', handleNextQuestion);
            simulatePaymentBtn.addEventListener('click', handlePayment);
            downloadAgainBtn.addEventListener('click', downloadCertificate);

            // Functions
            function handleLogin(e) {
                e.preventDefault();
                currentUser.name = document.getElementById('fullName').value;
                currentUser.email = document.getElementById('email').value;
                
                // Store user info in localStorage
                localStorage.setItem('userName', currentUser.name);
                localStorage.setItem('userEmail', currentUser.email);
                
                // Show category preview
                loginScreen.classList.add('hidden');
                categoryPreview.classList.remove('hidden');
            }

            function startQuiz() {
                categoryPreview.classList.add('hidden');
                quizScreen.classList.remove('hidden');
                
                // Start the timer
                startTimer();
                
                // Show first question
                showQuestion(0);
                updateQuizProgress();
            }

            function startTimer() {
                updateTimerDisplay();
                quizTimer = setInterval(() => {
                    timeRemaining--;
                    updateTimerDisplay();
                    
                    if (timeRemaining <= 0) {
                        clearInterval(quizTimer);
                        submitQuiz();
                    }
                }, 1000);
            }

            function updateTimerDisplay() {
                const minutes = Math.floor(timeRemaining / 60);
                const seconds = timeRemaining % 60;
                timerElement.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                
                // Update timer bar
                const percentRemaining = (timeRemaining / (10 * 60)) * 100;
                timerBarElement.style.width = `${percentRemaining}%`;
                
                // Change color based on time remaining
                if (percentRemaining > 60) {
                    timerBarElement.className = 'timer-bar bg-gradient-to-r from-yellow-400 to-red-400 h-3 rounded-full';
                } else if (percentRemaining > 30) {
                    timerBarElement.className = 'timer-bar bg-gradient-to-r from-yellow-400 to-orange-400 h-3 rounded-full';
                } else {
                    timerBarElement.className = 'timer-bar bg-gradient-to-r from-red-600 to-red-400 h-3 rounded-full';
                }
            }

            function showQuestion(index) {
                const question = quizQuestions[index];
                
                // Update question content
                questionIcon.textContent = question.icon;
                questionText.textContent = question.question;
                
                // Clear previous options
                optionsContainer.innerHTML = '';
                
                // Add new options
                question.options.forEach((option, i) => {
                    const optionElement = document.createElement('div');
                    optionElement.className = `quiz-option p-4 border-2 border-gray-600 rounded-lg cursor-pointer transition-all ${userAnswers[index] === i ? 'selected' : ''}`;
                    optionElement.innerHTML = `
                        <div class="flex items-center">
                            <div class="w-6 h-6 rounded-full border-2 border-gray-400 flex items-center justify-center mr-4">
                                ${userAnswers[index] === i ? '<div class="w-3 h-3 rounded-full bg-yellow-400"></div>' : ''}
                            </div>
                            <span class="text-white text-lg">${option}</span>
                        </div>
                    `;
                    
                    optionElement.addEventListener('click', () => {
                        // Remove selected class from all options
                        document.querySelectorAll('.quiz-option').forEach(opt => {
                            opt.classList.remove('selected');
                            opt.querySelector('.w-6').innerHTML = '';
                        });
                        
                        // Add selected class to clicked option
                        optionElement.classList.add('selected');
                        optionElement.querySelector('.w-6').innerHTML = '<div class="w-3 h-3 rounded-full bg-yellow-400"></div>';
                        
                        // Save answer
                        userAnswers[index] = i;
                        
                        // Enable next button if it was disabled
                        nextBtn.disabled = false;
                    });
                    
                    optionsContainer.appendChild(optionElement);
                });
                
                // Update current question index
                currentQuestionIndex = index;
                
                // Update navigation buttons
                prevBtn.disabled = index === 0;
                nextBtn.innerHTML = index === quizQuestions.length - 1 ? 'üèÅ Submit' : 'Next ‚û°Ô∏è';
                
                // Disable next button if no answer selected
                nextBtn.disabled = userAnswers[index] === null;
                
                // Update progress indicators
                currentQuestionElement.textContent = index + 1;
                const progressPercent = Math.round(((index + 1) / quizQuestions.length) * 100);
                progressPercentElement.textContent = progressPercent;
                progressBarElement.style.width = `${progressPercent}%`;
                
                // Add animation
                questionContainer.classList.remove('scale-in');
                void questionContainer.offsetWidth; // Trigger reflow
                questionContainer.classList.add('scale-in');
            }

            function showPreviousQuestion() {
                if (currentQuestionIndex > 0) {
                    showQuestion(currentQuestionIndex - 1);
                }
            }

            function handleNextQuestion() {
                if (currentQuestionIndex < quizQuestions.length - 1) {
                    showQuestion(currentQuestionIndex + 1);
                } else {
                    submitQuiz();
                }
            }

            function updateQuizProgress() {
                const answeredCount = userAnswers.filter(answer => answer !== null).length;
                const progressPercent = Math.round((answeredCount / quizQuestions.length) * 100);
                progressPercentElement.textContent = progressPercent;
                progressBarElement.style.width = `${progressPercent}%`;
            }

            function submitQuiz() {
                // Stop the timer
                clearInterval(quizTimer);
                
                // Calculate results
                const results = calculateResults();
                
                // Display results
                displayResults(results);
                
                // Hide quiz screen and show results screen
                quizScreen.classList.add('hidden');
                resultsScreen.classList.remove('hidden');
            }

            function calculateResults() {
                // Calculate total score
                let totalCorrect = 0;
                userAnswers.forEach((answer, index) => {
                    if (answer === quizQuestions[index].correctAnswer) {
                        totalCorrect++;
                    }
                });
                
                const totalScore = Math.round((totalCorrect / quizQuestions.length) * 100);
                
                // Calculate category scores
                const categories = {};
                quizQuestions.forEach((question, index) => {
                    const category = question.category;
                    if (!categories[category]) {
                        categories[category] = {
                            total: 0,
                            correct: 0,
                            icon: question.icon
                        };
                    }
                    
                    categories[category].total++;
                    if (userAnswers[index] === question.correctAnswer) {
                        categories[category].correct++;
                    }
                });
                
                // Convert to percentages and ratings
                const categoryResults = {};
                Object.keys(categories).forEach(category => {
                    const score = Math.round((categories[category].correct / categories[category].total) * 100);
                    let rating;
                    
                    if (score >= 90) {
                        rating = 'Excellent';
                    } else if (score >= 75) {
                        rating = 'Good';
                    } else if (score >= 60) {
                        rating = 'Satisfactory';
                    } else {
                        rating = 'Needs Improvement';
                    }
                    
                    categoryResults[category] = {
                        score,
                        rating,
                        icon: categories[category].icon
                    };
                });
                
                // Determine overall rating
                let overallRating;
                if (totalScore >= 90) {
                    overallRating = 'Excellent';
                } else if (totalScore >= 75) {
                    overallRating = 'Good';
                } else if (totalScore >= 60) {
                    overallRating = 'Satisfactory';
                } else {
                    overallRating = 'Needs Improvement';
                }
                
                return {
                    totalScore,
                    totalCorrect,
                    totalQuestions: quizQuestions.length,
                    categoryResults,
                    overallRating
                };
            }

            function displayResults(results) {
                // Update total score
                document.getElementById('total-score').textContent = results.totalScore;
                document.getElementById('max-score').textContent = '100';
                
                // Update score gauge
                const scoreCircle = document.getElementById('score-circle');
                const circumference = 2 * Math.PI * 45; // 2œÄr
                const offset = circumference - (results.totalScore / 100) * circumference;
                scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
                scoreCircle.style.strokeDashoffset = offset;
                
                // Set color based on score
                if (results.totalScore >= 90) {
                    scoreCircle.style.stroke = '#10B981'; // Green
                } else if (results.totalScore >= 75) {
                    scoreCircle.style.stroke = '#3B82F6'; // Blue
                } else if (results.totalScore >= 60) {
                    scoreCircle.style.stroke = '#F59E0B'; // Yellow
                } else {
                    scoreCircle.style.stroke = '#EF4444'; // Red
                }
                
                document.getElementById('score-percentage').textContent = `${results.totalScore}%`;
                
                // Update category results
                const categoryResultsContainer = document.getElementById('category-results');
                categoryResultsContainer.innerHTML = '';
                
                Object.keys(results.categoryResults).forEach(category => {
                    const result = results.categoryResults[category];
                    const categoryElement = document.createElement('div');
                    
                    // Set background color based on rating
                    let bgColor;
                    if (result.rating === 'Excellent') {
                        bgColor = 'bg-gradient-to-br from-green-500 to-emerald-600';
                    } else if (result.rating === 'Good') {
                        bgColor = 'bg-gradient-to-br from-blue-500 to-indigo-600';
                    } else if (result.rating === 'Satisfactory') {
                        bgColor = 'bg-gradient-to-br from-yellow-400 to-orange-500';
                    } else {
                        bgColor = 'bg-gradient-to-br from-red-500 to-pink-600';
                    }
                    
                    categoryElement.className = `${bgColor} rounded-xl p-6 text-white shadow-lg transform hover:scale-105 transition-all`;
                    categoryElement.innerHTML = `
                        <div class="flex items-center justify-between mb-3">
                            <div>
                                <h4 class="font-bold text-lg">${category}</h4>
                                <p class="text-sm text-white text-opacity-90">${result.rating}</p>
                            </div>
                            <div class="text-3xl">${result.icon}</div>
                        </div>
                        <div class="mt-3 w-full bg-white bg-opacity-30 rounded-full h-3">
                            <div class="bg-white h-3 rounded-full transition-all" style="width: ${result.score}%"></div>
                        </div>
                        <div class="text-right mt-2 text-sm font-medium">${result.score}%</div>
                    `;
                    
                    categoryResultsContainer.appendChild(categoryElement);
                });
                
                // Store results for certificate generation
                localStorage.setItem('quizResults', JSON.stringify(results));
                
                // Start payment button countdown
                startPaymentCountdown();
            }

            function startPaymentCountdown() {
                let countdown = 60;
                const paymentBtn = document.getElementById('simulate-payment-btn');
                const countdownElement = document.getElementById('countdown');
                const paymentBtnText = document.getElementById('payment-btn-text');
                
                const countdownTimer = setInterval(() => {
                    countdown--;
                    countdownElement.textContent = countdown;
                    
                    if (countdown <= 0) {
                        clearInterval(countdownTimer);
                        
                        // Enable the payment button
                        paymentBtn.disabled = false;
                        paymentBtn.className = 'w-full px-6 py-3 bg-gradient-to-r from-yellow-500 to-red-500 text-white rounded-lg font-medium hover:opacity-90 transition-all transform hover:scale-105 shimmer cursor-pointer';
                        paymentBtnText.innerHTML = 'üí≥ Complete Payment & Get Certificate';
                    }
                }, 1000);
            }

            function handlePayment() {
                // In a real app, this would handle actual payment processing
                // For this demo, we'll simulate a successful payment
                
                // Hide results screen and show certificate screen
                resultsScreen.classList.add('hidden');
                certificateScreen.classList.remove('hidden');
                
                // Generate certificate
                generateCertificate();
                
                // Download certificate automatically
                setTimeout(downloadCertificate, 1500);
            }

            function generateCertificate() {
                // Get user info and results
                const userName = localStorage.getItem('userName') || 'John Doe';
                const results = JSON.parse(localStorage.getItem('quizResults')) || {
                    totalScore: 85,
                    overallRating: 'Good',
                    categoryResults: {}
                };
                
                // Generate certificate ID
                const certificateId = 'SKX-' + Math.floor(100000 + Math.random() * 900000);
                
                // Get current date
                const currentDate = new Date().toLocaleDateString('en-US', {
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric'
                });
                
                // Update certificate content
                document.getElementById('certificate-name').textContent = userName;
                document.getElementById('certificate-score').textContent = `${results.totalScore}/100`;
                document.getElementById('certificate-rank').textContent = results.overallRating;
                document.getElementById('certificate-date').textContent = currentDate;
                document.getElementById('certificate-id').textContent = certificateId;
                
                // Update category results
                const certificateCategoriesContainer = document.getElementById('certificate-categories');
                certificateCategoriesContainer.innerHTML = '';
                
                Object.keys(results.categoryResults).forEach(category => {
                    const result = results.categoryResults[category];
                    const categoryElement = document.createElement('div');
                    categoryElement.className = 'flex items-center justify-between py-1';
                    categoryElement.innerHTML = `
                        <div class="flex items-center">
                            <span class="mr-2 text-lg">${result.icon}</span>
                            <span class="handwriting text-sm">${category}:</span>
                        </div>
                        <span class="handwriting font-medium text-sm">${result.rating}</span>
                    `;
                    
                    certificateCategoriesContainer.appendChild(categoryElement);
                });
            }

            function downloadCertificate() {
                // Make sure jsPDF is properly loaded
                if (typeof window.jspdf === 'undefined') {
                    console.error('jsPDF library not loaded properly');
                    alert('PDF generation library not loaded. Please try again or check your internet connection.');
                    return;
                }

                const certificate = document.getElementById('certificate');
                
                // Use html2canvas with proper settings
                html2canvas(certificate, {
                    scale: 2, // Higher scale for better quality
                    logging: false,
                    useCORS: true,
                    allowTaint: true,
                    backgroundColor: '#ffffff'
                }).then(function(canvas) {
                    try {
                        const imgData = canvas.toDataURL('image/png');
                        
                        // Create PDF using jsPDF
                        const { jsPDF } = window.jspdf;
                        const pdf = new jsPDF({
                            orientation: 'landscape',
                            unit: 'mm',
                            format: 'a4'
                        });
                        
                        const pdfWidth = pdf.internal.pageSize.getWidth();
                        const pdfHeight = pdf.internal.pageSize.getHeight();
                        
                        // Add image to PDF, fitting to page
                        pdf.addImage(imgData, 'PNG', 0, 0, pdfWidth, pdfHeight);
                        
                        // Download the PDF
                        const userName = localStorage.getItem('userName') || 'User';
                        const fileName = `${userName.replace(/\s+/g, '_')}_Accent_Training_Certificate.pdf`;
                        pdf.save(fileName);
                        
                        console.log('Certificate downloaded successfully');
                    } catch (error) {
                        console.error('Error generating PDF:', error);
                        alert('There was an error generating your certificate. Please try again.');
                    }
                }).catch(function(error) {
                    console.error('Error capturing certificate:', error);
                    alert('There was an error capturing your certificate. Please try again.');
                });
            }
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9806e19ab0dc4561',t:'MTc1ODA5NDA0OS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
