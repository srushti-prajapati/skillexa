<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Skills ‚Äì Skillexa</title>
  <link rel="stylesheet" href="assets/css/style.css" />
  <link rel="icon" href="assets/favicon.ico" type="image/x-icon" />
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background: #f3f4f6;
    }

    header {
      background: white;
      padding: 1rem 2rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      box-shadow: 0 2px 6px rgba(0,0,0,0.05);
    }

    h1 {
      font-size: 1.6rem;
      color: #2563eb;
    }

    nav a {
      margin-left: 20px;
      text-decoration: none;
      font-weight: 500;
      color: #2563eb;
    }

    .container {
      max-width: 1100px;
      margin: 2rem auto;
      padding: 0 1rem;
    }

    h2 {
      color: #1e3a8a;
      margin-bottom: 1rem;
    }

    .skill-category {
      margin-bottom: 2.5rem;
    }

    .skills-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      gap: 1.2rem;
    }

    .skill-box {
      background: white;
      border-radius: 10px;
      padding: 1rem;
      box-shadow: 0 4px 8px rgba(0,0,0,0.05);
      text-align: center;
      transition: transform 0.2s;
      position: relative;
    }

    .skill-box:hover {
      transform: translateY(-4px);
    }

    .skill-box.locked::after {
      content: "üîí Premium";
      position: absolute;
      top: 10px;
      right: 10px;
      background: #ef4444;
      color: white;
      padding: 2px 6px;
      font-size: 12px;
      border-radius: 4px;
    }

    .skill-box h3 {
      font-size: 1rem;
      color: #2563eb;
    }

    .skill-box button {
      margin-top: 0.5rem;
      padding: 6px 12px;
      font-size: 0.85rem;
      background: #2563eb;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }

    .skill-box button:hover {
      background: #1e40af;
    }

    footer {
      text-align: center;
      padding: 1rem;
      background: #f9fafb;
      color: #6b7280;
      margin-top: 3rem;
      font-size: 0.85rem;
    }
  </style>
</head>
<body>
<header>
  <img src="assets/logo.jpg" class="logo" />
  <a href="index.html"></a>
</header>

<header>
  <h1>Skillexa</h1>
  <nav>
    <a href="index.html">Home</a>
    <a href="dashboard.html">Dashboard</a>
    <a href="#" onclick="logout()">Logout</a>
  </nav>
</header>

<div class="container">
  <div class="skill-category">
    <h2>üß† Soft Skills</h2>
    <div class="skills-grid" id="softSkills"></div>
  </div>

  <div class="skill-category">
    <h2>üíª Technical Skills</h2>
    <div class="skills-grid" id="technicalSkills"></div>
  </div>

  <div class="skill-category">
    <h2>üìä Business & Marketing</h2>
    <div class="skills-grid" id="businessSkills"></div>
  </div>

  <div class="skill-category">
    <h2>üé® Creative & Design</h2>
    <div class="skills-grid" id="creativeSkills"></div>
  </div>

  <div class="skill-category">
    <h2>üåê Language & Cultural</h2>
    <div class="skills-grid" id="languageSkills"></div>
  </div>
</div>

<footer>
  ¬© 2025 Skillexa. Empower Your Future.
</footer>

<script>
  const categories = {
    softSkills: [
      "Communication Skills", "Public Speaking", "Interview Preparation", "Emotional Intelligence",
      "Leadership Skills", "Time Management", "Critical Thinking", "Problem Solving",
      "Conflict Resolution", "Decision Making"
    ],
    technicalSkills: [
      "Programming", "Web Development", "App Development", "Data Structures and Algorithms",
      "Machine Learning & AI", "Data Science & Analytics", "Cybersecurity",
      "Cloud Computing", "Database Management"
    ],
    businessSkills: [
      "Digital Marketing", "SEO", "Social Media Marketing", "Content Creation", "Business Communication",
      "Entrepreneurship", "Sales Skills", "Project Management", "Branding", "Business Analytics"
    ],
    creativeSkills: [
      "Graphic Design", "UI/UX Design", "Video Editing", "Motion Graphics", "Photography",
      "Creative Writing", "Storytelling", "Logo Design", "Presentation Design"
    ],
    languageSkills: [
      "Spoken English", "Grammar & Vocabulary", "Multilingual Communication", "Email Writing",
      "Translation Practice", "Accent Training", "Cultural Sensitivity"
    ]
  };

  const user = JSON.parse(localStorage.getItem("skillexa-user"));
  const isPremium = user?.plan === "Premium" || user?.plan === "All";

  if (!user) {
    alert("Please login first.");
    window.location.href = "signup-login.html";
  }

  const freeSkills = [
    "Digital Marketing", "SEO", "Content Creation", "Sales Skills",
    "Graphic Design", "Motion Graphics", "Storytelling", "Logo Design",
    "Communication Skills", "Public Speaking", "Interview Preparation", "Time Management",
    "Problem Solving", "Conflict Resolution",
    "Programming", "Web Development", "App Development", "Database Management"
  ];

  function createSkillBox(skill, unlocked = false) {
    const box = document.createElement("div");
    box.className = "skill-box" + (unlocked ? "" : " locked");

    const h3 = document.createElement("h3");
    h3.textContent = skill;

    const btn = document.createElement("button");
    btn.textContent = unlocked ? "Start Learning" : "Upgrade Now";

    btn.onclick = () => {
      if (unlocked) {
        localStorage.setItem("completedSkill", skill);
        let visited = JSON.parse(localStorage.getItem("visitedSkills")) || [];
        if (!visited.includes(skill)) {
          visited.push(skill);
          localStorage.setItem("visitedSkills", JSON.stringify(visited));
        }
        window.location.href = "skill-detail.html";
      } else {
        window.location.href = "payment.html";
      }
    };

    box.appendChild(h3);
    box.appendChild(btn);
    return box;
  }

  // Render softSkills
  categories.softSkills.forEach(skill =>
    document.getElementById("softSkills").appendChild(
      createSkillBox(skill, isPremium || freeSkills.includes(skill))
    )
  );

  // Render all other categories
  Object.entries(categories).forEach(([key, list]) => {
    if (key === "softSkills") return; // Already handled
    list.forEach(skill => {
      const isFree = freeSkills.includes(skill);
      document.getElementById(key).appendChild(createSkillBox(skill, isPremium || isFree));
    });
  });

  function logout() {
    localStorage.removeItem("skillexa-user");
    window.location.href = "signup-login.html";
  }
</script>

</body>
</html>
